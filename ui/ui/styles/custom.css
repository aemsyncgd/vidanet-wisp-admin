@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap');

:root {
    /* Colores - Tema Claro */
    --color-primary: #1597E5;
    --color-secondary: #3CCF4E;
    --color-alternative: #61CE70;
    --color-background-light: #F9F9F9;
    --color-text-dark: #1A1A1A;
    --color-gray-dark: #54595F;
    --color-gray-medium: #7A7A7A;
    --color-promo-accent: #F77E21;
    --color-whatsapp: #25D366;
    --color-white: #FFFFFF;
    --color-black: #000000;

    /* Colores Tema Dinámico (Base Light) */
    --color-bg: var(--color-background-light);
    --color-text: var(--color-text-dark);
    --color-card-bg: var(--color-white);
    --color-header-bg: var(--color-white);
    --color-footer-bg: var(--color-text-dark);
    --color-footer-text: var(--color-white);
    --color-cta-bg: var(--color-text-dark);
    --color-cta-text: var(--color-white);
    --color-section-bg: var(--color-background-light);

    /* Tipografía */
    --font-family-base: 'Poppins', sans-serif;
    --font-weight-light: 300;
    --font-weight-regular: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    --font-weight-extrabold: 800;
    --font-weight-black: 900;

    /* Tokens */
    --border-radius-base: 16px;
    --border-radius-lg: 24px;
    --spacing-large: 5rem;
    --spacing-medium: 3rem;
    --shadow-subtle: 0 8px 30px rgba(0, 0, 0, 0.08);
    --shadow-card: 0 15px 40px rgba(0, 0, 0, 0.12);
    --shadow-elevated: 0 25px 50px rgba(0, 0, 0, 0.15);
    --header-height: 90px;

    /* Transiciones */
    --transition-speed: 0.4s;
    --transition-speed-slow: 0.6s;
    --transition-easing: cubic-bezier(0.4, 0, 0.2, 1);

    /* Gradientes */
    --gradient-primary: linear-gradient(135deg, var(--color-primary), #0C7BBF);
    --gradient-secondary: linear-gradient(135deg, var(--color-secondary), #2EAE3D);
    --gradient-promo: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
    --gradient-hero: linear-gradient(135deg, rgba(21, 151, 229, 0.9), rgba(60, 207, 78, 0.7));
}

/* Tema Oscuro */
.dark-theme {
    --color-bg: #0A0A0F;
    --color-text: #F0F0F0;
    --color-card-bg: #1A1A24;
    --color-header-bg: #121218;
    --color-footer-bg: #050509;
    --color-footer-text: #CCCCCC;
    --color-cta-bg: #121218;
    --color-cta-text: #F0F0F0;
    --color-section-bg: #121218;
    --shadow-subtle: 0 8px 30px rgba(0, 0, 0, 0.3);
    --shadow-card: 0 15px 40px rgba(0, 0, 0, 0.4);
    --shadow-elevated: 0 25px 50px rgba(0, 0, 0, 0.5);
}

/* Aggressive Dark Mode Overrides */
.dark-theme body,
.dark-theme .main-container,
.dark-theme .content-container,
.dark-theme .page,
.dark-theme .wrapper,
.dark-theme .site-settings,
.dark-theme .site-head {
    background-color: var(--color-bg) !important;
    color: var(--color-text) !important;
}

.dark-theme .panel {
    background-color: var(--color-card-bg) !important;
    color: var(--color-text) !important;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.dark-theme .panel-heading,
.dark-theme .panel-footer,
.dark-theme .panel-body {
    background-color: var(--color-card-bg) !important;
    color: var(--color-text) !important;
    border-color: rgba(255, 255, 255, 0.05) !important;
}

.dark-theme .table {
    color: var(--color-text) !important;
}

.dark-theme .table thead th {
    color: var(--color-text) !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.dark-theme .table td,
.dark-theme .table th {
    border-top: 1px solid rgba(255, 255, 255, 0.05) !important;
}

.dark-theme .table-striped>tbody>tr:nth-of-type(odd) {
    background-color: rgba(255, 255, 255, 0.02) !important;
}

.dark-theme .table-hover>tbody>tr:hover {
    background-color: rgba(255, 255, 255, 0.05) !important;
}

/* Dark Mode Inputs */
.dark-theme .form-control {
    background-color: #121218 !important;
    /* Slightly lighter than bg */
    border-color: rgba(255, 255, 255, 0.1) !important;
    color: var(--color-text) !important;
}

.dark-theme .form-control:focus {
    border-color: var(--color-primary) !important;
    background-color: #1a1a20 !important;
}

/* Dark Mode Sub-menus */
.dark-theme .site-nav ul li ul,
.dark-theme .nav-list .open>ul {
    background-color: var(--color-card-bg) !important;
    border-left: 1px solid rgba(255, 255, 255, 0.1);
}

.dark-theme .site-nav ul li ul li a {
    color: rgba(255, 255, 255, 0.7) !important;
    border-bottom: none !important;
}

.dark-theme .site-nav ul li ul li a:hover {
    color: var(--color-white) !important;
    background-color: rgba(255, 255, 255, 0.05) !important;
}

/* Dark Mode Sidebar Hover/Active - Main Items */
.dark-theme .site-nav>ul>li>a:hover,
.dark-theme .site-nav>ul>li.active>a,
.dark-theme .site-nav>ul>li.open>a {
    background-color: transparent !important;
    /* Remove white bg */
    color: var(--color-white) !important;
    border-bottom: 2px solid var(--color-primary) !important;
    /* Blue bottom border */
    padding-bottom: 10px;
    /* Adjust spacing for border */
}

/* Fix for sidebar links normal state in Dark Mode */
.dark-theme .site-nav ul li a {
    color: var(--color-text) !important;
    border-bottom: 2px solid transparent;
    /* Reserve space */
    transition: all 0.3s ease;
}

/* Dark Mode Inputs & Selects - Refined Borders */
.dark-theme .form-control,
.dark-theme select,
.dark-theme textarea,
.dark-theme .select2-container--default .select2-selection--single,
.dark-theme .select2-dropdown {
    background-color: #121218 !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    /* Whiter border as requested */
    color: var(--color-text) !important;
}

.dark-theme .form-control:focus,
.dark-theme select:focus {
    border-color: var(--color-primary) !important;
    box-shadow: 0 0 0 1px var(--color-primary) !important;
}

/* Fix Select2 rendered elements */
.dark-theme .select2-container--default .select2-selection--single .select2-selection__rendered {
    color: var(--color-text) !important;
}

.dark-theme .select2-results__option {
    background-color: var(--color-card-bg) !important;
    color: var(--color-text) !important;
}

/* ==========================================================================
   UNIVERSAL DARK MODE OVERRIDES (The "Nuclear" Option)
   Force dark backgrounds on all known container types to future-proof the theme.
   ========================================================================== */
.dark-theme .invoice-wrap,
.dark-theme .panel,
.dark-theme .panel-default,
.dark-theme .box,
.dark-theme .box-primary,
.dark-theme .ibox,
.dark-theme .ibox-content,
.dark-theme .card,
.dark-theme .well,
.dark-theme .jumbotron,
.dark-theme .modal-content,
.dark-theme .dropdown-menu,
.dark-theme .white-box,
.dark-theme .bg-white,
.dark-theme .content-box {
    background-color: var(--color-card-bg) !important;
    color: var(--color-text) !important;
    border: 1px solid rgba(255, 255, 255, 0.05) !important;
}

/* Ensure text visibility inside these containers */
.dark-theme .invoice-wrap h1,
.dark-theme .invoice-wrap h2,
.dark-theme .invoice-wrap h3,
.dark-theme .invoice-wrap h4,
.dark-theme .invoice-wrap h5,
.dark-theme .invoice-wrap h6,
.dark-theme .invoice-wrap p,
.dark-theme .invoice-wrap span,
.dark-theme .invoice-wrap div {
    color: var(--color-text) !important;
}

/* Fix specific utilities in dark mode */
.dark-theme .text-info {
    color: #4fc3f7 !important;
    /* Lighter blue for better contrast */
}

.dark-theme .text-muted {
    color: rgba(255, 255, 255, 0.6) !important;
}

/* Border corrections for nested elements */
.dark-theme .invoice-head,
.dark-theme .invoice-subhead {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.dark-theme .text-muted {
    color: rgba(255, 255, 255, 0.5) !important;
}

.dark-theme h1,
.dark-theme h2,
.dark-theme h3,
.dark-theme h4,
.dark-theme h5,
.dark-theme h6 {
    color: var(--color-text) !important;
}

/* Override PHPMixBill Defaults to use Variables */

body {
    font-family: var(--font-family-base) !important;
    color: var(--color-text);
    background-color: var(--color-bg);
}

.site-head {
    background-color: var(--color-header-bg);
    box-shadow: var(--shadow-subtle);
}

.site-logo .text {
    font-weight: var(--font-weight-bold);
    color: #000000;
}

.nav-wrap {
    background-color: var(--color-header-bg);
    border-right: 1px solid rgba(0, 0, 0, 0.05);
}

.nav-wrap .nav-head {
    background-color: var(--color-header-bg) !important;
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
}

.nav-wrap {
    background-color: var(--color-header-bg) !important;
    border-right: 1px solid rgba(0, 0, 0, 0.05);
}

/* Fix for sidebar links in Dark Mode */
.site-nav ul li a {
    color: var(--color-text) !important;
}

/* Ensure active/open items are visible */
.site-nav ul li.active>a,
.site-nav ul li.open>a {
    color: var(--color-primary) !important;
    background-color: rgba(21, 151, 229, 0.1) !important;
}

/* Fix for any white backgrounds in lists or dropdowns if they exist */
.nav-list,
.site-nav {
    background-color: var(--color-header-bg) !important;
}

.site-nav ul li a {
    color: var(--color-text);
    font-weight: var(--font-weight-medium);
}

.site-nav ul li.active>a,
.site-nav ul li.open>a {
    color: var(--color-primary);
    background-color: rgba(21, 151, 229, 0.1);
}

.panel {
    background-color: var(--color-card-bg);
    border-radius: var(--border-radius-base);
    box-shadow: var(--shadow-card);
    border: none;
    margin-bottom: 20px;
}

.panel-default>.panel-heading {
    background-color: var(--color-card-bg);
    color: var(--color-text);
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    font-weight: var(--font-weight-semibold);
    border-top-left-radius: var(--border-radius-base);
    border-top-right-radius: var(--border-radius-base);
}

.panel-body {
    padding: 20px;
    color: var(--color-text);
}

.panel-footer {
    background-color: var(--color-card-bg);
    border-top: 1px solid rgba(0, 0, 0, 0.05);
    border-bottom-left-radius: var(--border-radius-base);
    border-bottom-right-radius: var(--border-radius-base);
}

/* Buttons */
.btn {
    border-radius: var(--border-radius-base);
    transition: var(--transition-speed);
    font-weight: var(--font-weight-medium);
    border: none;
}

.btn-primary {
    background-image: var(--gradient-primary);
    color: var(--color-white);
}

.btn-success {
    background-image: var(--gradient-secondary);
    color: var(--color-white);
}

/* Typography Headings */
h1,
h2,
h3,
h4,
h5,
h6 {
    font-family: var(--font-family-base) !important;
    font-weight: var(--font-weight-bold);
    color: var(--color-text);
}

/* Inputs */
.form-control {
    border-radius: 8px;
    /* Slightly smaller than base radius for inputs usually */
    border: 1px solid #e0e0e0;
    background-color: var(--color-card-bg);
    color: var(--color-text);
}

.form-control:focus {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px rgba(21, 151, 229, 0.2);
}

/* Footer */
.nav-foot {
    background-color: var(--color-bg);
    color: var(--color-gray-medium);
    border-top: 1px solid rgba(0, 0, 0, 0.05);
}

/* Links */
a {
    color: var(--color-primary);
    text-decoration: none;
}

a:hover {
    color: var(--color-secondary);
    text-decoration: none;
}